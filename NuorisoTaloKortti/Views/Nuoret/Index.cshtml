@model IEnumerable<NuorisoTaloKortti.Models.Nuoret>

@{
    ViewBag.Title = "Nuoret";
}

<h2>Nuoret</h2>

<p>
    @Html.ActionLink("Lisää nuori", "Create")
</p>
<div class="table-responsive text-nowrap">
    <table class="table table-striped table-bordered table-fixed">
        <tr>
            <th>Nimi</th>
            <th>Syntymäaika</th>
            <th>@Html.DisplayNameFor(model => model.Puhelinnumero)</th>
            <th>Sähköposti</th>
            <th>Huoltajan nimi</th>
            <th>@Html.DisplayNameFor(model => model.Allergiat)</th>
            <th>@Html.DisplayNameFor(model => model.Kuvauslupa)</th>
            <th>@Html.DisplayNameFor(model => model.Aktivointi)</th>
            <th>Käyttäjänimi</th>
            <th>@Html.DisplayNameFor(model => model.Osoite)</th>
            <th>@Html.DisplayNameFor(model => model.Postitoimipaikat.Postitoimipaikka)</th>
            <th>@Html.DisplayNameFor(model => model.Kuva)</th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Etunimi)
                    @Html.DisplayFor(modelItem => item.Sukunimi)
                </td>
                <td>@Html.DisplayFor(modelItem => item.SyntymaAika)</td>
                <td>@Html.DisplayFor(modelItem => item.Puhelinnumero)</td>
                <td>@Html.DisplayFor(modelItem => item.SPosti)</td>
                <td>
                    @Html.DisplayFor(modelItem => item.Huoltajat.Etunimi)
                    @Html.DisplayFor(modelItem => item.Huoltajat.Sukunimi)
                </td>
                <td>@Html.DisplayFor(modelItem => item.Allergiat)</td>
                <td>@Html.DisplayFor(modelItem => item.Kuvauslupa)</td>
                <td>@Html.DisplayFor(modelItem => item.Aktivointi)</td>
                <td>@Html.DisplayFor(modelItem => item.Kayttajanimi)</td>
                <td>@Html.DisplayFor(modelItem => item.Osoite)</td>
                <td>
                    @Html.DisplayFor(modelItem => item.Postitoimipaikat.Postinumero)
                    @Html.DisplayFor(modelItem => item.Postitoimipaikat.Postitoimipaikka)
                </td>
                <td>
                    <div>
                        @if (item.Kuva != null)
                        {
                            var base64 = Convert.ToBase64String(item.Kuva);
                            var imgsrc = string.Format("data:image/jpg;base64,{0}", base64);
                            <img src='@imgsrc' style="max-height: 60px" />
                        }
                        else
                        {
                            <img src="~/Kuvat/ukkkoKuva.jpg" style="max-height: 60px;" />
                        }
                    </div>
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.NuoriId }) |
                    @Html.ActionLink("Details", "", new { id = item.NuoriId }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.NuoriId })
                </td>
            </tr>
        }

    </table>
    </div>